"use strict";app.controller("hosontoCtrl",["$scope","$http",function(e,t){var o,n=[],r=function(t,r,a,s){console.log("/autoparams::"+JSON.stringify(t));var i;i=e;var l={};for(l in t){console.log("param==="+l),console.log("::"+t[l]);var c=l.split(new RegExp("_TABLE|_FIELD_")),u=[];u[0]=i[c[0]],console.log("arr:: "+c[0]+"  ref::"+u[0]),""==t[l]||null==t[l]||void 0==t[l]?i[c[0]]=t[l]:"string"!=typeof t[l]||"{"!=t[l][0]&&"["!=t[l][0]&&'"'!=t[l][0]&&"'"!=t[l][0]?i[c[0]]=t[l]:i[c[0]]=JSON.parse(t[l].replace(/^[\s\"\'\n]+|[\s\"\'\n]+$/,"")),console.log("/autoparams@@"+l+"=="+JSON.stringify(i[c[0]]))}o&&o(n)},a=function(t,r,a,s){console.log("/autoparams::failed status="+r+" data="+t+" header="+a+" config="+JSON.stringify(s)),e.status=t,o&&o(n)},s=function(t,o){var n=document;return t&&""!=t&&(n=document.getElementById(t)),new Promise(function(t,r){var a;a=n?n.querySelectorAll("div, input, p, ul, span, option, select, tr, textarea"):document.querySelectorAll("div, input, p, ul, span, option, select, tr, textarea"),angular.forEach(a,function(t){if(null!=t.attributes.getNamedItem("mdl-param")){var n=t.attributes.getNamedItem("ng-model").value,r=t.attributes.getNamedItem("mdl-param").value,a=t.value;(!a||""==a||"["==a[0]&&"o"==a[1])&&e[n]&&(a=e[n]),console.log("Found="+JSON.stringify(t.attributes.getNamedItem("mdl-param"))+": str="+n+" ScopeVal="+JSON.stringify(a));var s=r.split("_FIELD_");s.length>1?(console.log(s[0]+"==FIELD=="+s[1]+"value=="+a),void 0===o[s[0]+"_FIELD_"]&&(o[s[0]+"_FIELD_"]={}),void 0===a||""!=a&&(o[s[0]+"_FIELD_"][s[1]]=a)):void 0===a?o[r]="":o[r]=a}}),t(o)})};e.pushData=function(e,i,l,c,u){o=u,n=Array.prototype.slice.call(arguments,5);var p={},g=s(e,p);g.then(function(e){console.log("promise success::data="+JSON.stringify(e)),p.__EventName=l,p.__EventParams=c,console.log("inside pushData: "+JSON.stringify(p)+"callback:"+o+" Arguments:"+JSON.stringify(n)),""==i?t.post("/autoparams",angular.toJson(p)).success(r).error(a):t.post(i,angular.toJson(p)).success(r).error(a)})},e.popData=function(e){o=e;var n={},i=s(n);i.then(function(e){console.log("here: "+JSON.stringify(n)),t.post("/autoparams",n).success(r).error(a)})},e.pushRow=function(e,s,i,l){o=l,n=Array.prototype.slice.call(arguments,4);var c={};c.__rowId=i,c.__EventName=s,console.log("inside pushRow: "+JSON.stringify(c)+"callback:"+o+" Arguments:"+JSON.stringify(n)),""==e?t.post("/autoparams",angular.toJson(c)).success(r).error(a):t.post(e,angular.toJson(c)).success(r).error(a)},e.execForeignEvent=function(o,n){e.pushData("/execevent",o,function(n){var r={function:o,__SessionId:n};t.post("/execevent",r).success(function(t,o,n,r){console.log("execForeignEvent:"+JSON.stringify(t));var a={};for(a in t)e[a]=t[a],console.log(a)}).error(function(t,o,n,r){e.status=t})})},e.execLocalEvent=function(e){call-e()}}]).directive("mdl-param",function(){return{scope:{"mdl-param":"@"},restrict:"A",transclude:!0,link:function(e,t,o,n){t.append("mdl-param")}}}).directive("input",["$parse",function(e){return{restrict:"E",require:"?ngModel",link:function(t,o,n){n.value&&e(n.ngModel).assign(t,n.value)}}}]);